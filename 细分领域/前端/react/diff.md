传统的树节点比较算法，查找两棵树的不同需要O(n^2)，找到差异后还要计算最小转换方式，所以最终时间复杂度为O(n^3)。
React的Diff算法则比较简单粗暴，每个节点只遍历一次。  
React认为，一个ReactElement的type不同，那内容基本不会复用，所以直接删除节点（包括下面所有的子节点），添加新节点，这是一个非常大的优化，大大减少了对比时间复杂度，是性能和复杂度的最好折中。  

## 节点类型相同的情况
节点类型可以分为两类：一类是DOM元素类型，对应的就是HTML直接支持的元素类型，比如div、p、span；另一类是React组件，也就是利用React库定制的类型。  
对于DOM元素类型，React会保留节点对应的DOM元素，只对树形结构根节点上的属性和内容做一下比对，然后只更新修改的部分。  
对于React组件类型，那么React做的工作类似，只是React此时并不知道如何去更新DOM树，因为这些逻辑还在React组件中，React能做的只是根据新节点的props去更新原来根节点的组件实例，引发这个组件实例的更新过程。