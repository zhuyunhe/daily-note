<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>change image</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    img{
      width: 100%;
    }
  </style>
</head>
<body onload="displayImage()">
  <img id="myPhoto" src="//p0.meituan.net/0.0.o/dpgroup/239466a6fd8df99c7d63ac5067c928ce243151.jpg">
  <canvas id="myCanvas" width="200", height="200"></canvas>  
  <script>
    //Global variables
    var myImage = new Image(); // Create a new blank image.

    // Load the image and display it.
    function displayImage() {

      // Get the canvas element.
      canvas = document.getElementById("myCanvas");

      // Make sure you got it.
      if (canvas.getContext) {

        // Specify 2d canvas type.
        ctx = canvas.getContext("2d");

        // When the image is loaded, draw it.
        myImage.onload = function () {
          var imgEle = document.querySelector('#myPhoto')
          canvas.width = imgEle.width
          canvas.height = imgEle.height

          // Load the image into the context.
          ctx.drawImage(myImage, 0, 0);

          // Get and modify the image data.
          changeImage();
        }

        // Define the source of the image.
        myImage.src = "//p0.meituan.net/0.0.o/dpgroup/239466a6fd8df99c7d63ac5067c928ce243151.jpg";
      }
    }

    function changeImage() {

      // Draw snowflakes.
      for (i = 0; i <= 50; i++) {
        // Get random positions for flakes.
        var x = Math.floor(Math.random() * 199);
        var y = Math.floor(Math.random() * 199);

        // Make the flakes white
        ctx.fillStyle = "white";

        // Draw an individual flakes.
        ctx.beginPath();
        ctx.arc(x, y, 3, 0, Math.PI * 2, true);
        ctx.closePath();
        ctx.fill();
      }
    }
  </script>
</body>
</html>